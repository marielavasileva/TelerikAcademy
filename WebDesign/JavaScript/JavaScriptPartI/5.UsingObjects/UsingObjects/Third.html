<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Third</title>
    <link href="styles/js-console.css" rel="stylesheet" />
</head>
<body>
    <div id="js-console"></div>
    
    <script src="scripts/js-console.js"></script>
    <script>
        

        var arr1 = new Array(1, 2, 10, 3); 
        var line1 = { Point1: { X: 0, Y: 3 }, Point2: { X: 5, Y: 0} };

        var arr2 = deepCopy(arr1);
        jsConsole.writeLine("Original array:")
        printObj(arr1);
        
        jsConsole.writeLine("Cloned array:")
        printObj(arr2); //print clone
        jsConsole.writeLine(new String('-----------------------------------------------'));

        arr2[2] = 5; 
        jsConsole.writeLine("Original array after change of cloned:")
        printObj(arr1); 
        jsConsole.writeLine(new String('-----------------------------------------------'));
        jsConsole.writeLine("Cloned array after change:")
        printObj(arr2); 
        jsConsole.writeLine(new String('-----------------------------------------------'));

        var line2 = deepCopy(line1);
        jsConsole.writeLine("Original line:")
        printObj(line1); 
        
        jsConsole.writeLine("Cloned line:")
        printObj(line2); 
        

        line2.Point1.X = 66;  
        jsConsole.writeLine("Original line:")
        printObj(line1); 
        
        jsConsole.writeLine("Cloned line after change:")
        printObj(line2); 
        


        function deepCopy(obj) {
            var newObj = new Object();
            for (var key in obj) {
                newObj[key] = obj[key];
                if ((typeof obj[key]) == "object") {
                    newObj[key] = deepCopy(obj[key]);    
                }
            }
            return newObj;
        }


        function printObj(obj) {
            for (key in obj) {
                jsConsole.write("<br/><b>Property </b>" + key + ": " + obj[key]);
                if (typeof (obj[key]) == "object") {
                    printObj(obj[key]);
                }
            }
            jsConsole.writeLine();
        }
    </script>
</body>
</html>